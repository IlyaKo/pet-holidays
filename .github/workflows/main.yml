name: CI
on:
    push:
      branches: [ "main" ]
    pull_request:
      branches: [ "main" ]
    workflow_dispatch:

# jobs запускаются параллельно, если не указана последовательность
jobs:
   build_job:
      runs-on: ubuntu-latest
      
      steps:
         - name: Get code
         - uses: actions/checkout@v4
         
         - name: Setup .NET
           uses: actions/setup-dotnet@v4
           with:
              dotnet-version: ${{ env.DOTNET_VERSION }}
         
         - name: Install dependencies
           run: dotnet restore WebApi
         
         - name: Build
           run: dotnet build WebApi --configuration Release --no-restore
         
         - name: Test
           run: dotnet test WebApi --configuration Release --no-build
         
         - name: Run The end
           run: echo The end!
